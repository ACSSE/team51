<nav-bar></nav-bar>
<div id="content">
    <md-toolbar class="md-table-toolbar" md-colors="{backgroundColor: 'teal-300'}">
        <div class="md-toolbar-tools">
            <a ng-href="#/student/campaigns"><span style="margin-right:15px"><i class="fa fa-arrow-left btn-3d backarrow"></i></span></a>
            <span>View Campaign</span>
        </div>
    </md-toolbar>
    <md-card>


        <md-card-header>
            <md-card-header-text>
                <md-card>
                    <a href="#/student/campaigns">
                        <img style="height:300px; width:500px" class="img-rounded" ng-src="../../../../../Content/BursifyUploads/{{campaign.StudentId}}/images/{{campaign.PicturePath}}" alt="campagin picture">
                    </a>
                </md-card>
            </md-card-header-text>
            <div class="col-lg-12">
                <div class="col-lg-8">
                    <md-card-header-text>
                        <span class="md-title">{{campaign.CampaignName}}</span>
                        <span class="small">by {{campaign.Name + " "+ campaign.Surname}}</span>
                        <br />
                        <span class="small-text-medium">{{campaign.Tagline}}</span>
                        <br />
                        <br />
                        <style>
                            .upvote:hover {
                                color: forestgreen;
                            }
                        </style>
                        <div class="row" style="margin-bottom:10px">
                            <div class="col-lg-4"><span class="glyphicon glyphicon-map-marker pull-left"></span>{{campaign.Location}}</div>
                            <div class="col-lg-4"><span><i class="fa fa-tags" aria-hidden="true">{{campaign.CampaignType}}</i></span></div>
                            <div class="col-lg-4">
                                <i class="upvote" type="button" ng-click="upvodeCampaign($event,campaign.CampaignId)" ng-if="!(upvoted == true)">
                                    <i class="fa fa-thumbs-up" style="color:{{upVoteColor}}" aria-hidden="true">
                                        <md-tooltip md-direction="top" style="margin-top:50px">
                                            upvote
                                        </md-tooltip>
                                    </i>
                                </i>
                                <i class="upvote">
                                    <i class="fa fa-thumbs-up" style="color:green" aria-hidden="true" ng-if="upvoted == true">
                                        <md-tooltip md-direction="top" style="margin-top:50px">
                                            upvoted
                                        </md-tooltip>
                                    </i>
                                </i>
                            </div>
                        </div>
                        <md-progress-linear md-mode="determinate" value="{{(campaign.AmountContributed / campaign.AmountRequired)*100 | number:0}}"></md-progress-linear>
                        <br />
                        <div class="row">
                            <div class="col-lg-4">{{(campaign.AmountContributed / campaign.AmountRequired)*100 | number:0}}%<br />funded</div>
                            <div class="col-lg-4">R{{campaign.AmountContributed}} <br />Raised</div>
                            <div class="col-lg-4">{{daysleft}}<br />days to go</div>
                        </div>
                        <br />
                        <!--<md-button ng-click="fundCampaign($event,campaign)" ng-disabled="true" class="btn btn-success form-control full-opacity-hover" style="margin-top:10px">Fund this Campaign</md-button>-->
                    </md-card-header-text>
                </div>
                <div class="col-lg-4"><!--Start of Funders column-->
                <h4>Funders</h4>
                    <div class="list-group"   style="height:300px;overflow:scroll;">
                        <p href="" class="list-group-item" ng-repeat="funder in funders track by $index">{{funder}}</p>
                    </div><!--End of Funders column-->
                </div>
            </div>
        </md-card-header>
        <md-card-title>
            <md-card-title-text>
                <span class="md-headline">Campaign Description:</span>
            </md-card-title-text>
        </md-card-title>

        <md-card-content>
            <style>
               code {
          background-color: #EEEEEE;
          font-family: Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif;
        }
        pre {
          background-color: #EEEEEE;
          font-family: Consolas,Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace,serif;
          margin-bottom: 10px;
          max-height: 600px;
          overflow: auto;
          padding: 5px;
          width: auto;
        }
            </style>
            <p><pre>{{campaign.Description}}</pre></p>
        </md-card-content>

        <div id="content">

            <div class="col-md-12 text-left title" style="padding-bottom: 15px; padding-top: 15px;"><h2>You may also like</h2></div>

            <div ng-repeat="campaignDetail in campaigns" class="col-md-4">
                <a ng-href="#/student/campaign-details/{{campaignDetail.CampaignId}}">
                    <md-card>
                        <img style="height: 250px;" ng-src="../../../../../Content/BursifyUploads/{{campaignDetail.StudentId}}/images/{{campaignDetail.PicturePath}}" class="md-card-image" alt="campaign.jpg">
                        <md-card-title>
                            <md-card-title-text>
                                <span class="md-headline">{{campaignDetail.CampaignName}}</span>
                                <small>{{campaignDetail.Name + ' '+  campaignDetail.Surname}}</small><br>
                            </md-card-title-text>
                        </md-card-title>
                        <md-card-content>
                            <p style="margin-top: -20px;height: 26px;">{{campaignDetail.Tagline}}</p>
                            <p><span class="glyphicon glyphicon-map-marker">{{campaignDetail.Location}}</span></p>
                            <md-progress-linear md-mode="determinate" value="{{(campaignDetail.AmountContributed / campaignDetail.AmountRequired)*100 | number:0}}"></md-progress-linear>
                            <div class="row">
                                <div class="col-md-7">
                                    <br />
                                    <small>{{(campaignDetail.AmountContributed / campaignDetail.AmountRequired)*100 | number:0}}%</small>
                                    <b><small>Funded</small></b>
                                </div>
                                <div class="col-md-5 pull-left">
                                    <br />
                                    <small>R{{campaignDetail.AmountContributed}}</small>
                                    <b><small>Funded</small></b>
                                </div>
                            </div>
                        </md-card-content>
                    </md-card>
                </a>
            </div>
        </div>
    </md-card>
</div>


